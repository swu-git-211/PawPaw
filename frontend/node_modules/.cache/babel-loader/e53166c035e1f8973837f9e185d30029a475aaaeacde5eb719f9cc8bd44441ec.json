{"ast":null,"code":"var _jsxFileName = \"D:\\\\de351\\\\pawpaw\\\\frontend\\\\src\\\\components\\\\EditProfile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProfile = ({\n  user,\n  onSave\n}) => {\n  _s();\n  var _user$profile, _user$profile2, _user$profile3;\n  const [username, setUsername] = useState(user.username || '');\n  const [email, setEmail] = useState(user.email || '');\n  const [phone, setPhone] = useState(((_user$profile = user.profile) === null || _user$profile === void 0 ? void 0 : _user$profile.phone) || '');\n  const [birthday, setBirthday] = useState(((_user$profile2 = user.profile) === null || _user$profile2 === void 0 ? void 0 : _user$profile2.birthday) || '');\n  const [bio, setBio] = useState(((_user$profile3 = user.profile) === null || _user$profile3 === void 0 ? void 0 : _user$profile3.bio) || '');\n  const [profileImage, setProfileImage] = useState(null);\n  useEffect(() => {\n    var _user$profile4;\n    if ((_user$profile4 = user.profile) !== null && _user$profile4 !== void 0 && _user$profile4.birthday) {\n      setBirthday(new Date(user.profile.birthday).toLocaleDateString());\n    }\n  }, [user]);\n  const handleFileChange = e => {\n    setProfileImage(e.target.files[0]);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('username', username);\n    formData.append('email', email);\n    formData.append('phone', phone);\n    formData.append('birthday', birthday);\n    formData.append('bio', bio);\n    if (profileImage) formData.append('profileImage', profileImage);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.put('http://localhost:5000/pawpaw_test/profile', formData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      onSave(response.data); // อัปเดตข้อมูลโปรไฟล์ในหน้า Profile\n    } catch (error) {\n      console.error('Error updating profile:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: username,\n        onChange: e => setUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Phone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: phone,\n        onChange: e => setPhone(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Birthday\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: birthday,\n        onChange: e => setBirthday(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Bio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: bio,\n        onChange: e => setBio(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Profile Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleFileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Save Changes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(EditProfile, \"Raf8kHxRXU55RjyYzubsYDwR0uo=\");\n_c = EditProfile;\nexport default EditProfile;\nvar _c;\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","EditProfile","user","onSave","_s","_user$profile","_user$profile2","_user$profile3","username","setUsername","email","setEmail","phone","setPhone","profile","birthday","setBirthday","bio","setBio","profileImage","setProfileImage","_user$profile4","Date","toLocaleDateString","handleFileChange","e","target","files","handleSubmit","preventDefault","formData","FormData","append","token","localStorage","getItem","response","put","headers","Authorization","data","error","console","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","_c","$RefreshReg$"],"sources":["D:/de351/pawpaw/frontend/src/components/EditProfile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst EditProfile = ({ user, onSave }) => {\r\n  const [username, setUsername] = useState(user.username || '');\r\n  const [email, setEmail] = useState(user.email || '');\r\n  const [phone, setPhone] = useState(user.profile?.phone || '');\r\n  const [birthday, setBirthday] = useState(user.profile?.birthday || '');\r\n  const [bio, setBio] = useState(user.profile?.bio || '');\r\n  const [profileImage, setProfileImage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (user.profile?.birthday) {\r\n      setBirthday(new Date(user.profile.birthday).toLocaleDateString());\r\n    }\r\n  }, [user]);\r\n\r\n  const handleFileChange = (e) => {\r\n    setProfileImage(e.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('username', username);\r\n    formData.append('email', email);\r\n    formData.append('phone', phone);\r\n    formData.append('birthday', birthday);\r\n    formData.append('bio', bio);\r\n    if (profileImage) formData.append('profileImage', profileImage);\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await axios.put('http://localhost:5000/pawpaw_test/profile', formData, {\r\n        headers: { Authorization: `Bearer ${token}`, 'Content-Type': 'multipart/form-data' },\r\n      });\r\n      onSave(response.data);  // อัปเดตข้อมูลโปรไฟล์ในหน้า Profile\r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <h2>Edit Profile</h2>\r\n      <div>\r\n        <label>Username</label>\r\n        <input\r\n          type=\"text\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <label>Email</label>\r\n        <input\r\n          type=\"email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <label>Phone</label>\r\n        <input\r\n          type=\"text\"\r\n          value={phone}\r\n          onChange={(e) => setPhone(e.target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <label>Birthday</label>\r\n        <input\r\n          type=\"date\"\r\n          value={birthday}\r\n          onChange={(e) => setBirthday(e.target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <label>Bio</label>\r\n        <textarea\r\n          value={bio}\r\n          onChange={(e) => setBio(e.target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <label>Profile Image</label>\r\n        <input\r\n          type=\"file\"\r\n          onChange={handleFileChange}\r\n        />\r\n      </div>\r\n      <button type=\"submit\">Save Changes</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}